-- title:  game title
-- author: game developer
-- desc:   short description
-- script: lua
colliders = {
	-- tiles that only can be collided when falling onto them from above
	top_colliders = {
		[174]=true, [175]=true
	},
	-- completely solid tiles that cannot be moved through
	solid_colliders= {
		[160]=true, [161]=true, [162]=true, 
		[163]=true, [164]=true, [165]=true, 
		[176]=true, [177]=true, [178]=true, 
		[179]=true, [192]=true, [193]=true, 
		[194]=true, [195]=true, [180]=true, 
		[181]=true
	}
}

-- tools
function mid(a, b, c) 
    if ((a < b and b < c) or (c < b and b < a)) then
       return b
    elseif ((b < a and a < c) or (c < a and a < b)) then
       return a 
    else
       return c
	end 
end

function limit_speed(num,maximum)
	return mid(-maximum,num,maximum)
end

function lerp(a,b,t) return (1-t)*a + t*b end

function collide_map(obj,aim,flag)
	local x,y,w,h = obj.x+obj.hb.xoff,obj.y+obj.hb.yoff,obj.hb.w,obj.hb.h
	
	local x1,y1,x2,y2,hb_w,hb_h=0,0,0,0,0,0
	
	if aim=="left" then
		x1 = x-4
		y1 = y
		x2 = x-3
		y2 = y+h-2
	elseif aim=="right" then
		x1 = x+w+3
		y1 = y
		x2 = x+w+4
		y2 = y+h-2
	elseif aim=="up" then
		x1 = x
		y1 = y-1
		x2 = x+w
		y2 = y
	elseif aim=="down" then
		x1 = x
		y1 = y+h
		x2 = x+w
		y2 = y+h+1
	end

	-- test --
	-- x_r, y_r, w_r, h_r = x1, y1, x2-x1, y2-y1
	----------


	--pixels to tiles
	x1 = x1/8
	y1 = y1/8
	x2 = x2/8
	y2 = y2/8

	collider = colliders[flag]
	
	if collider[mget(x1,y1)]
	or collider[mget(x1,y2)]
	or collider[mget(x2,y1)]
	or collider[mget(x2,y2)] then
		return true
	else
		return false
	end
end

function Animation(frames, timing)
	local a = {}
	a.frames = frames
	a.timing = timing
	return a
end

entities = {}
-- Entity
function Entity(x, y, w, h, anim, hb)
	local e = {}
	e.x = x
	e.y = y
	e.w = w
	e.h = h
	e.anim = anim
	e.hb = hb
	table.insert(entities, e)
	return e
end
-----------------

-- player
player = {
	sp=1,
	x=120,
	y=68,
	w=8,
	h=8,
	flp=0,
	dx=0,
	dy=0,
	max_dx=3,
	max_dy=4,
	acc=0.5,
	boost=5,
	anim=0,
	running=false,
	jumping=false,
	falling=false,
	sliding_x=false,
	sliding_y=false,
	landed=true,
	hb={xoff=2, yoff=0, w=4, h=8}
}

function player_upd()
	--physics
	player.dy = player.dy+gravity
	player.dx = player.dx*friction
	
	--controls
	if btn(2) then
		player.dx = player.dx-player.acc
		player.flp = 1
		player.running = true
	end
	if btn(3) then
		player.dx = player.dx + player.acc
		player.flp = 0
		player.running = true
	end
	
	--slide_x
	if player.running
	and not btn(2)
	and not btn(3)
	and player.landed then
		player.running=false
		player.sliding_x=true
	end
	
	--jump
	if btnp(4)
	and player.landed then
		player.dy = player.dy-player.boost
		player.landed=false
	end
	
	--check collision up/down
	if player.dy>0 then
		player.falling=true
		player.landed=false
		player.jumping=false
		
		player.dy=limit_speed(player.dy,player.max_dx)
		
		if collide_map(player,"down","top_colliders") or collide_map(player,"down","solid_colliders") then
			player.landed=true
			player.falling=false
			player.dy=0
			player.y = player.y - (((player.y+player.h+1) % 8) - 1)
			-- test --
			-- collide_d = "yes"
			-- else collide_d = "no"
			----------
		end
	elseif player.dy<0 then
		player.jumping=true
		if collide_map(player,"up","solid_colliders") then
			player.dy=0
			-- test --
			-- collide_u = "yes"
			-- else collide_u = "no"
			----------
		end
	end
	
	--check collision l/r
	if player.dx<0 then
		player.dx=limit_speed(player.dx,player.max_dx)
		if collide_map(player,"left","solid_colliders") then
			player.dx=0
			-- test --
			-- collide_l = "yes"
			-- else collide_l = "no"
			----------

			-- if not player.landed then
			-- 	player.sliding_y = true
			-- 	player.running = false
			-- 	player.jumping = false
			-- 	player.falling = false
			-- else player.sliding_y = false	end
		end
	elseif player.dx>0 then
		player.dx=limit_speed(player.dx,player.max_dx)
		if collide_map(player,"right","solid_colliders") then
			player.dx=0
			-- test --
			-- collide_r = "yes"
			-- else collide_r = "no"
			----------

			-- if not player.landed then
			-- 	player.sliding_y = true
			-- 	player.running = false
			-- 	player.jumping = false
			-- 	player.falling = false
			-- else player.sliding_y = false end
		end
	end
	
	--stop sliding_x
	if player.sliding_x then
		if math.abs(player.dx) < .2
		or player.running then
			player.dx=0
			player.sliding_x=false
		end
	end

	if player.sliding_y then

	end
	
	player.x = math.floor(player.x + player.dx)
	player.y = math.floor(player.y + player.dy)
end

function player_anim()
	if player.jumping then
		player.sp=7
	elseif player.falling then
		player.sp=8
	elseif player.sliding_x then
		player.sp=9
	elseif player.sliding_y then
		player.sp=10
	elseif player.running then
		if time()-player.anim>100 then
			player.anim=time()
			player.sp = player.sp+1
			if player.sp>6 then
				player.sp=3
			end
		end
	else
		if time()-player.anim>300 then
			player.anim=time()
			player.sp = player.sp+1
			if player.sp>2 then
				player.sp=1
			end
		end
	end
end

game_state = {}

function game_state:init()
	gravity=0.3
	friction=0.85

	-- test --
	-- x_r, y_r, w_r, h_r = 0,0,0,0
	-- collide_l, collide_r, collide_u, collide_d = "no", "no", "no", "no"
	----------

	--simple camera
	cam={x=120, y=68}
end

function game_state:update()
	t=t+1
	player_anim()
	player_upd()

	if player.dx < 0 then
		cam.x=math.floor(lerp(cam.x, player.x-184, 0.05))
	elseif player.dx > 0 then
		cam.x=math.floor(lerp(cam.x, player.x-48, 0.05))
	else 
		cam.x=math.floor(lerp(cam.x, player.x-120, 0.05))
	end

	if player.dy < 0 then
		cam.y=math.floor(lerp(cam.y, player.y-96, 0.05))
	elseif player.dy > 0 then
		cam.y=math.floor(lerp(cam.y, player.y-32, 0.05))
	else
		cam.y=math.floor(lerp(cam.y, player.y-64, 0.05))
	end


	-- cam.x=math.floor(lerp(cam.x, player.x-120, 0.07))
	-- cam.y=math.floor(lerp(cam.y, player.y-64, 0.07))
end

function game_state:draw()
	cls(0)
	map(0, 0, 240, 136, -cam.x, -cam.y, 0)

	-- local ccx=cam.x/8
	-- local ccy=cam.y/8
	-- map(ccx-15,ccy-8,32,17,(cam.x%8)-8,(cam.y%8)-8)


	-- test --
	-- print("Cam X: "..cam.x.."  Cam Y: "..cam.y, 12, 6)
	-- print("PL X: "..player.x.."  PL Y: "..player.y, 12, 12)
	-- print("DiffX: "..cam.x-player.x.."  DiffY: "..cam.y-player.y, 12, 18)
	----------
	

	spr(player.sp, player.x-cam.x, player.y-cam.y, 0, 1, player.flp)

	-- spr(player.sp, cam.x-120+player.x, cam.y-64+player.y, 0, 1, player.flp)

	-- test --
	-- rect(x_r-cam.x, y_r-cam.y, w_r, h_r, 15)
	-- print("L: "..collide_l, player.x, player.y-6)
	-- print("R: "..collide_r, player.x, player.y-12)
	-- print("U: "..collide_u, player.x, player.y-18)
	-- print("D: "..collide_d, player.x, player.y-24)
	----------
end

current_state = game_state

current_state.init()

t=0

function TIC()
	current_state.update()
	current_state.draw()	

	t=t+1
end

-- <TILES>
-- 001:003333300066666006ef1e1006eeeee000066000006666000e0670e000600700
-- 002:003333300066666006ef1e1006eeece0006666000e0660e00006700000600700
-- 003:0003333306666666600eef1e000eeeec0e666000000660000660300000003000
-- 004:0603333360666666000eef1e000eeeec0e666000000660000063000000630000
-- 005:0003333360066666066eef1e000eeeec0e666000000660000770600000006000
-- 006:0003333360666666060eef1e000eeeec0e666000000660000036000000360000
-- 007:0003333300666666060eef1e600eeeec006660000e0660000036000003600000
-- 008:6003333306666666000eef1e000eeeec00006660000066000000063000000063
-- 009:0000000003333300066666006ef1e1006eeece00006666e00e06630000006633
-- 010:00000000033333000666660601e1fe600eceee00006666e000e6630000006633
-- 160:0099999909999797999777749799444499974744999444349999947399779947
-- 161:9979999979999797479779774794777447747744444447443433433744744377
-- 162:9999999999999997977977949477749474794974447744444334437473444444
-- 163:9999990079799990477999994497999974479999433999994733777944734479
-- 164:4344479944949999444479994444797943449477444444443344434443444444
-- 165:9974443499994944999744449797444477494434444444444434443344444434
-- 174:3333333377773777737777733333333377737737737777373333333300333300
-- 175:3333333377773777773777373333333377777377737777773333333300000000
-- 176:9999747799794437999977339979944499944444799974479977734799744444
-- 177:4444444443444474443443444474444444443433444744447444447444447443
-- 178:4477744447733344444447744444434444444447443443344377444444744444
-- 179:7447999944444799437777994479799944447799734947994747999944344479
-- 180:4344444433444344444444444344947744447979444479994494999943444799
-- 181:4444443444344433444444447749443497974444999744449999494499744434
-- 189:0033330000333300003333000033330000333300003333000033330000333300
-- 190:0000000000000000333333333333333333333333333333330000000000000000
-- 191:0033330000333300003333000033330000333300003333000033330000333300
-- 192:9974433499974444999933339797447499994444999979940999979700999999
-- 193:4474444747344344444477444794974749477749497797797999999999999999
-- 194:7734477473343334447444444447477447774974779779747979999799999799
-- 195:4434447943447999433499797744799944799999779799997999999099999900
-- 205:0033330000333300003333330003333300003333000003330000000000000000
-- 206:0000000000000000333333333333333333333333333333330000000000000000
-- 207:0033330000333300333333003333300033330000333000000000000000000000
-- </TILES>

-- <MAP>
-- 000:3b000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:3b000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:4a1a1a1a1a1a3a000000000000000000000000000000000a1a1a1a1a1a5a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 003:0000000000003b000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:0000000000003b000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:0000000000003bfafafaeafafafa0000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 006:0000000000003b000000fb0000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:0000000000003b000000fb0000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:0000000000003b000000fb000000000000fafafaeafafa0b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 009:0000000000003b000000fb000000000000000000fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 010:0000000000003bfaeafafafafa00000000000000fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 011:0000000000003b00fb00fb000000000000000000fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 012:0000000000003b00fb00fb000000000000000000fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 013:0000000000003becfbecfc0000000000fafaeafafafafa0b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 014:0000000000003b00fb000000000000000000db00fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 015:0000000000003b00fb000000000000000000db00fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 016:0000000000003bfafafafaeafafafa000000db00fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 017:0000000000003b00fb0000fb000000000000db00fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 018:0000000000003b00fb0000fb000000000000db00fb00000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 019:0000000000003becfc0000fb000000000000db00fb00000b0000000000000000000000000000000000000000000000000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 020:0000000000003b00000000fb00000000000a2a2a2a2a2a5a0000000000000000000000000000000000001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 021:0000000000003bfafaeafafa00000000000b0000000000000000000000000000000000000000000000001d00000000000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 022:0000000000003b0000db00fb00000000000b0000000000000000000000000000000000000000000000001d00000000000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 023:0000000000003b0000db00fb00000000000b0000000000000000000000000000000000000000000000000000000000000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 024:0000000000003b0000db00fb00000000000b0000000000000000000000000000000000000000000000001d00000000000d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 025:0000000000003bececdbecfc00faeafafa0b0000000000000000000000000000000000000000000000001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 026:0000000000003b0000db00000000db00000b0000000000000000000000000000000000000000000000001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 027:0000000000003b0000db00000000db00000b0000000000000000000000000000000000000000000000001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 028:4b1c1c1c1c1c3cfafaeafa000000db00000b0000000000000000000000000000000000000000000000000000000000001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 029:3b0000000000000000db00000000dcecec0b0000000000000000000000000000000000000000000000001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 030:3b0000000000000000db000000000000000b0000000000000000000000000000000000000000000000001d000000000d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 031:3b0000000000000000db0000faeafafafa0b0000000000000000000000000000000000000000000000001d000000000d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 032:3b0000000000000000db000000db0000000b0000000000000000000000000000000000000000000000001d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 033:3bfafaeafafafafafafa000000db0000000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 034:4b0000db0000000000db000000db0000000c1c1c1c1c1c1c1c1c1c1c5b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 035:3b0000db0000000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 036:3b0000db00000000faeafafafaeafa000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 037:3b0000db0000000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 038:3bfafafafaea000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 039:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 040:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 041:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 042:3b0000db00db00fafaeafa0000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 043:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 044:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 045:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 046:3b0000db00db000000db0000faeafafa0000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 047:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 048:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 049:3b0000db00db000000db000000db00000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 050:4a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a5a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </MAP>

-- <WAVES>
-- 000:00000000ffffffff00000000ffffffff
-- 001:0123456789abcdeffedcba9876543210
-- 002:0123456789abcdef0123456789abcdef
-- </WAVES>

-- <SFX>
-- 000:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000304000000000
-- </SFX>

-- <PALETTE>
-- 000:140c1c44243430346d4e4a4e854c30346524d04648757161597dced27d2c8595a16daa2cd2aa996dc2cadad45edeeed6
-- </PALETTE>

